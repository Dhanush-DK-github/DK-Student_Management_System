<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Management System - List</title>
    <link rel="stylesheet" href="/CSS/res_navStyle.css">
    <link rel="stylesheet" href="/CSS/listStyle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto Slab|Roboto|Roboto Serif|Roboto Condensed">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    
</head>
<body>
    <nav>
        <input type="checkbox" id="check">
        <label for="check" class="checkbtn">
            <i class="material-icons" id="icon" onclick="myFunction()">menu</i>
        </label>
        <div class="headTitle">
        <label class="title">Student Management System</label>
        </div>
        <ul>
            <li><a href="/home"><button class="home">Home</button></a></li>
            <li><a href="/newStudent"><button class="new">Add Student</button></a></li>
            <li><a href="/listStudents"><button class="list">List Students</button></a></li>
        </ul>
    </nav>
    <div class="tableList">
        <div class="heading">
            <h2>Students List</h2>
        </div>
        <div class="table">
            <table>
                <thead class="header">
                <tr><th>Student ID</th><th>Student Name</th><th>Branch</th><th>Year</th><th>Academic Year</th><th colspan="3">Actions</th></tr>
                </thead>
                <tbody>
                
<tr th:each = "student: ${students}"><td data-label="Student ID" th:text="${student.id}"></td><td data-label="Student Name" th:text="${student.name}"></td> <td data-label="Branch" th:text="${student.branch}"></td>
<td data-label="Year" th:text="${student.year}"></td>
<td data-label="Academic Year" th:text="${student.academicYear}"></td>
<td><a th:href="@{/viewStudent/{id}(id=${student.id})}"><button class="det">Details</button></a></td><td><a th:href="@{/editStudent/{id}(id=${student.id})}"><button class="edit">Edit</button></a></td><td><a th:href="@{/deleteStudent/{id}(id=${student.id})}"><button class="del">Delete</button></a></td></tr>

                </tbody>
            </table>
        </div>
    </div>

    <script th:inline="javascript">
        function myFunction() {
          var elms = document.getElementsByClassName("tableList");
          console.log("checked");
            Array.from(elms).forEach((x) => {
                if (x.style.display === "none") {
                x.style.display = "block";
                } else {
                x.style.display = "none";
                }
            })
        }
        window.onload = function(){
        	/*<![CDATA[*/

        	var msg = [[${message}]];
        	/*]]>*/
        	toastr.options = {
        			  "closeButton": true,
        			  "debug": false,
        			  "newestOnTop": false,
        			  "progressBar": false,
        			  "positionClass": "toast-top-center",
        			  "preventDuplicates": false,
        			  "onclick": null,
        			  "showDuration": "300",
        			  "hideDuration": "1000",
        			  "timeOut": "2500",
        			  "extendedTimeOut": "1000",
        			  "showEasing": "swing",
        			  "hideEasing": "linear",
        			  "showMethod": "fadeIn",
        			  "hideMethod": "fadeOut"
        			}
        	
        	if(msg.includes("registered")){
        		Command: toastr["success"](msg)
        	}else if(msg.includes("updated")){
        		Command: toastr["success"](msg)
        	}else if(msg.includes("deleted")){
        		Command: toastr["success"](msg)
        	}else if(msg.includes("wrong")){
        		Command: toastr["warning"](msg)
        	}else if(msg.includes("Error")){
        		Command: toastr["error"](msg)
        	}
        	msg=null;
        }
    </script>
</body>
</html>
<!-- <%-- <!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Management System</title>
    <link rel="stylesheet" href="/CSS/listPageStyle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto Slab|Roboto|Roboto Serif|Roboto Condensed">
</head>
<body>
 <nav>
        <label class="title">Student Mangement System</label>
        <a href="listStudents"><label class="listTab">Students List</label></a>
        <ul>
            <li><a href="newStudent"><button class="new">Add Student</button></a></li>
            <li><a href="home"><button class="home">Home</button></a></li>
        </ul>
    </nav>
    <div class="tableList">
        <table>
            <thead class="header">
            <tr><th>StudentID</th><th>StudentName</th><th>Branch</th><th>Year</th><th>Academic Year</th><th colspan="3">Actions</th></tr>
            </thead>
            <tbody>
                <c:forEach var="student" items="${students}">
<tr><td>${student.id}</td><td>${student.name}</td> <td>${student.branch}</td>
<td>${student.year}</td>
<td>${student.academicYear}</td>
<td><a href="/viewStudent/${student.id}"><button class="det">Details</button></a></td><td><a href="/editStudent/${student.id}"><button class="edit">Edit</button></a></td><td><a href="/deleteStudent/${student.id}"><button class="del">Delete</button></a></td></tr>
</c:forEach>
            </tbody>
        </table>
    </div> --%>
<%-- <table>
<thead>
<tr><th>StudentID</th><th>StudentName</th><th>Branch</th><th>Year</th><th colspan="2">Actions</th></tr>
</thead>
<tbody>
<c:forEach var="student" items="${students}">
<tr><td>${student.id}</td><td>${student.name}</td> <td>${student.branch}</td><td>${student.year}</td></tr>
</c:forEach>
</tbody>
</table> --%> -->